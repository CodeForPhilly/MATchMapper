{"version":3,"sources":["components/FilterOption.js","components/FilterGroup.js","components/FilterBar.js","images/MM_infinity-logo_luxwhite_labeled.png","components/NavBar.js","components/TableCell.js","components/ProgressBar-Bar.js","components/ProgressBar-Container.js","components/ProgressBar.js","pages/table.js","components/Map.js","pages/map.js","images/MM_infinity-logo_philly-blues.png","images/PhillySkyline_ly_seeImageCreditsTXT.png","pages/about.js","App.js","reportWebVitals.js","index.js"],"names":["FilterOption","props","render","bind","state","toggleState","toggleAffirmative","toggleNegative","getValue","clear","newState","this","applyFilters","console","log","affirmativeValue","negativeValue","className","label","onClick","Component","FilterGroup","filters","ref","current","name","map","filter","FilterBar","filterGroups","keyword","sortKeys","sortDirection","setDirection","setSorting","handleKeyDown","handleKeywordChange","raw_filter_rows","table_filters_raw","split","slice","row","push","filtersByGroup","React","createRef","sortedFilterGroupNames","sort","a","b","includes","sortedFilterGroups","setState","keys","direction","e","target","value","key","id","type","placeholder","onKeyDown","onChange","children","showSort","defaultValue","disabled","hidden","group","NavBar","href","style","backgroundImage","logo","window","location","pathname","TableCell","visibility","column_name","substring","sticking","top","left","isHeader","Bar","background","height","marginLeft","progress","position","transition","animationDuration","width","zIndex","boxShadow","display","opacity","right","transform","Container","isFinished","pointerEvents","ProgressBar","isAnimating","isLoading","incrementDuration","TablePage","table_info","display_name","display_cols","update_recency","isLoaded","tableScroll","x","y","column_visibility","col_FACILITY","col_TELEHEALTH","col_PHONE","col_ADDRESS","col_ZIPCODE","col_WALKINHOURS","col_MATINFO","col_WHICHMAT","col_BUPRENORPHINE","col_NALTREXONE","col_METHADONE","col_PAYMENTOPTIONS","col_SERVICES","col_ADDITIONALINFORMATION","col_ADDITIONALNOTES","col_CERTIFICATIONDATE","col_DATASOURCES","current_request_elements","included_values_string","excluded_values_strings","toLegalURL","enableColumns","handleScroll","makeRequest","history","listen","table_name","request_URL_from_params","visible_columns","replace","newVisibilities","Object","assign","scrollLeft","scrollTop","url","splitIllegal","site","options","bwn","bwon","beri","bsdm","vtrl","nxn","match","params","query","included_values","excluded_values","param","included_values_strings","pair","length","join","django_query","axios","get","then","res","data","objects","document","title","groups","sortingInfo","condition","sortingElement","query_url","Date","getMonth","getDate","getFullYear","onScroll","source_url","records_count","facility_type","source_range","name1","name2","name3","website1","website2","telehealth","phone1","phone2","phone3","street1","street2","city","state_usa","zipcode","walk_in_hours","mat_info","mat_avail","bu","nu","mu","bu_options","option","buu","showonlyfor","bum","bmw","db_field","nu_options","rpn","meth","mui","mm","mmw","dm","md","mc","pa","ccc","dvh","hs","mhs","pw","ta","additional_info","ref_notes","full_certification","id_dbhids_tad","ba_dbhids_tad","id_samhsa_ftloc","id_samhsa_otp","id_hfp_fqhc","oid","withRouter","mapboxgl","accessToken","Map","jqueryReady","mapboxReady","geocoderElement","globalData","markerList","myCircle","geocoder","maxDistance","plotMarkers","toggleSearchModal","clearMap","reloadMap","handleDistanceChange","mapParams","param_values","replaceAll","destination_name","get_url","origin","generateRequestURL","on","searchResult","result","geometry","i","loc","turfDistance","turf","longitude","latitude","units","distance","dist","parseInt","data_","d","sitesInFocus","halfBound","Math","sqrt","c","coordinates","bbox","fitBounds","MapboxCircle","lat","lng","fillOpacity","addTo","siteCount","showSearchModal","dest_name","link_object","countFocus","tableInfo","_color","phone_number","phone","marker","Marker","color","setLngLat","setPopup","Popup","setHTML","JSON","stringify","container","mapContainer","center","zoom","addControl","NavigationControl","resize","MapboxGeocoder","getElementById","appendChild","onAdd","requestGeoData","remove","overflow","for","el","class","MapPage","mapKey","showSearchByAddress","naming_dict","sitecodes_samhsa_ftloc","siterecs_samhsa_ftloc","siterecs_samhsa_otp","siterecs_dbhids_tad","siterecs_hfp_fqhc","siterecs_other_srcs","sites_all","Siterecs_dbhids_tads","getUrlParams","toggleSearchByAddress","refresh","rel","AboutPage","align","src","skyline","frameborder","allowfullscreen","mozallowfullscreen","webkitallowfullscreen","App","sizes","content","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.aad40431.chunk.js","sourcesContent":["import { Component } from \"react\"\r\n\r\n\r\nclass FilterOption extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.render = this.render.bind(this);\r\n        this.state = {\r\n            toggleState: 0\r\n        }\r\n        this.toggleAffirmative = this.toggleAffirmative.bind(this);\r\n        this.toggleNegative = this.toggleNegative.bind(this);\r\n        this.getValue = this.getValue.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n    }\r\n\r\n    toggleAffirmative(){\r\n        var newState = 0\r\n        if(this.state.toggleState != 1){\r\n            newState = 1\r\n        }\r\n        this.state.toggleState = newState\r\n        this.props.applyFilters()\r\n    }\r\n    toggleNegative(){\r\n        var newState = 0\r\n        if(this.state.toggleState != -1){\r\n            newState = -1\r\n        }\r\n        this.state.toggleState = newState\r\n        this.props.applyFilters()\r\n    }\r\n    getValue(){\r\n        if(this.state.toggleState == 1){\r\n            console.log(this.props)\r\n            return this.props.affirmativeValue\r\n        }\r\n        if(this.state.toggleState == -1){\r\n            return this.props.negativeValue\r\n        }\r\n        return null\r\n    }\r\n\r\n    clear(){\r\n        this.state.toggleState = 0\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"filterCriteria\">\r\n                <label>{this.props.label}</label>\r\n                <div className={\"specifier equal\" + (this.state.toggleState==1 ? \" selected\" : \"\")} onClick={this.toggleAffirmative}><p>✓</p></div>\r\n                <div className={\"specifier notequal\" + (this.state.toggleState==-1 ? \" selected\" : \"\")} onClick={this.toggleNegative}><p>✗</p></div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FilterOption\r\n","import React, { Component } from \"react\"\r\nimport FilterOption from \"./FilterOption\"\r\n\r\nclass FilterGroup extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.render = this.render.bind(this)\r\n        this.state = {\r\n        }\r\n        this.clear = this.clear.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        \r\n    }\r\n\r\n    clear(){\r\n        for(var filterOption of this.props.filters){\r\n            filterOption.ref.current.clear()\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"filterGroup\">\r\n                <div className=\"filterGroupHeader\">{this.props.name}:</div>\r\n                <div className=\"subfilter visible\">\r\n                    {this.props.filters.map((filter) => \r\n                        <FilterOption label={filter.label} key={filter.label} affirmativeValue={filter.affirmativeValue} negativeValue={filter.negativeValue} ref={filter.ref} applyFilters={this.props.applyFilters}/>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FilterGroup\r\n","import React, { Component } from \"react\"\r\n\r\nimport FilterGroup from \"./FilterGroup\";\r\n\r\nimport \"../styles/filterBar.css\"\r\n\r\nclass FilterBar extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            filterGroups: [],\r\n            keyword: \"\",\r\n            sortKeys: \"\",\r\n            sortDirection: \"\"\r\n        }\r\n        this.render = this.render.bind(this)\r\n        this.clear = this.clear.bind(this)\r\n        this.applyFilters = this.applyFilters.bind(this)\r\n        this.setDirection = this.setDirection.bind(this)\r\n        this.setSorting = this.setSorting.bind(this)\r\n        this.handleKeyDown = this.handleKeyDown.bind(this)\r\n        this.handleKeywordChange = this.handleKeywordChange.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        var raw_filter_rows = []\r\n        for(var row of this.props.table_filters_raw.split(\"|\").slice(1)){\r\n            raw_filter_rows.push(row.split(\";\"))\r\n        }\r\n        var filtersByGroup = {}\r\n        for(var row of raw_filter_rows){\r\n            if(row[5] + row[6] !== \"\"){\r\n                var filter = { label: row[2], affirmativeValue: row[5], negativeValue: row[6], ref: React.createRef() }\r\n                if(row[1] in filtersByGroup){\r\n                    filtersByGroup[row[1]].push(filter)\r\n                } else{\r\n                    filtersByGroup[row[1]] = [filter]\r\n                }\r\n            }\r\n        }\r\n        var sortedFilterGroupNames = []\r\n        for(var row of raw_filter_rows.sort(function(a, b) { return a[0] - b[0] })){\r\n            if(!sortedFilterGroupNames.includes(row[1])){\r\n                sortedFilterGroupNames.push(row[1])\r\n            }\r\n        }\r\n        var sortedFilterGroups = []\r\n        for(var name of sortedFilterGroupNames){\r\n            sortedFilterGroups.push({name: name, filters: filtersByGroup[name], ref: React.createRef()})\r\n        }\r\n        this.setState({filterGroups: sortedFilterGroups});\r\n    }\r\n\r\n    clear(){\r\n        for(var group of this.state.filterGroups){\r\n            group.ref.current.clear()\r\n        }\r\n        this.state.keyword = \"\"\r\n        this.state.sortDirection = \"\"\r\n        this.state.sortKeys = \"\"\r\n        this.applyFilters()\r\n    }\r\n\r\n    applyFilters(){\r\n        this.props.applyFilters(this.state.filterGroups, {keys: this.state.sortKeys, direction: this.state.sortDirection}, this.state.keyword)\r\n    }\r\n\r\n    setSorting(e){\r\n        this.state.sortKeys = e.target.value\r\n        this.applyFilters()\r\n    }\r\n\r\n    setDirection(e){\r\n        this.state.sortDirection = e.target.value\r\n        if(this.state.sortKeys == \"\"){\r\n            this.state.sortKeys = \"order=name1\"\r\n        }\r\n        this.applyFilters()\r\n    }\r\n\r\n    handleKeyDown(e){\r\n        if(e.key === \"Enter\"){\r\n            this.applyFilters()\r\n        }\r\n        else {\r\n            console.log(e.key)\r\n        }\r\n    }\r\n    handleKeywordChange(e){\r\n        this.setState({keyword: e.target.value})\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div id=\"sidebar\">\r\n                <button id=\"clearFilters\" onClick={this.clear}>Start Over &#10005;</button>\r\n                <div id=\"filterOptions\">\r\n                    <h2>Search:</h2>\r\n                    <input id=\"searchBar\" type=\"text\" placeholder=\"Search...\" onKeyDown={this.handleKeyDown} onChange={this.handleKeywordChange} value={this.state.keyword}/>\r\n                    {this.props.children}\r\n                    { this.props.showSort !== false ? (\r\n                        <div>\r\n                            <h2>Sort:</h2>\r\n                            <div id=\"sortOptions\">\r\n                                <label>By:</label>\r\n                                <select id=\"sortBy\" defaultValue=\"\" onChange={this.setSorting} value={this.state.sortKeys}>\r\n                                    <option disabled hidden value=\"\"></option>\r\n                                    <option value=\"order=name1\">Facility Name</option>\r\n                                    <option value=\"order=street1&order=street2\">Address</option>\r\n                                    <option value=\"order=city\">City</option>\r\n                                    <option value=\"order=state_usa&order=city\">State</option>\r\n                                    <option value=\"order=zipcode\">Zip Code</option>\r\n                                </select>\r\n                                <label>Order:</label>\r\n                                <select id=\"orderingOptions\" defaultValue=\"\" onChange={this.setDirection} value={this.state.sortDirection}>\r\n                                    <option value=\"\">Ascending</option>\r\n                                    <option value=\"-\">Descending</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    ) : null}\r\n                    <h2>Filter:</h2>\r\n                    <label>Filter your search with the following criteria:</label>\r\n                    <div id=\"filterContainer\">\r\n                        {this.state.filterGroups.map((group) => <FilterGroup applyFilters={this.applyFilters} name={group.name} key={group.name} filters={group.filters} ref={group.ref}/>)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n      )\r\n    }\r\n}\r\n\r\nexport default FilterBar\r\n","export default __webpack_public_path__ + \"static/media/MM_infinity-logo_luxwhite_labeled.d5261545.png\";","import { Component } from \"react\"\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../styles/navBar.css\"\r\nimport logo from \"../images/MM_infinity-logo_luxwhite_labeled.png\"\r\n\r\nclass NavBar extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.render = this.render.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        // console.log(\"from navbar:\")\r\n        // console.log(window.location.pathname)\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <nav>\r\n                <a href=\"/\" id=\"nav-logo\" style={{ backgroundImage: `url(${logo})`}}> </a>\r\n                <ul id=\"nav-options\">\r\n                    <li className={\"bold \" + (window.location.pathname.includes(\"/table/sites_all\") ? \"selected\" : \"\")}><a href=\"/table/sites_all\">LIST ALL</a></li>\r\n                    <li className={(window.location.pathname.includes(\"/table/siterecs_dbhids_tad\") ? \"selected\" : \"\")}><a href=\"/table/siterecs_dbhids_tad\">Local MAT Directory (DBHIDS)</a></li>\r\n                    <li className={(window.location.pathname.includes(\"/table/siterecs_samhsa_ftloc\") ? \"selected\" : \"\")}><a href=\"/table/siterecs_samhsa_ftloc\">National Find Treatment Programs (SAMHSA)</a></li>\r\n                    <div className=\"linebreak\"></div>\r\n                    <li className={\"bold \" + (window.location.pathname.includes(\"/map/sites_all\") ? \"selected\" : \"\")}><a href=\"/map/sites_all\">MAP ALL</a></li>\r\n                    <li className={(window.location.pathname.includes(\"/map/siterecs_dbhids_tad\") ? \"selected\" : \"\")}><a href=\"/map/siterecs_dbhids_tad\">MAP DBHIDS Directory</a></li>\r\n                    <li className={(window.location.pathname.includes(\"/map/siterecs_samhsa_ftloc\") ? \"selected\" : \"\")}><a href=\"/map/siterecs_samhsa_ftloc\">MAP SAMHSA Find Treatment Programs</a></li>\r\n                </ul>\r\n            </nav>\r\n      )\r\n    }\r\n}\r\n\r\nexport default NavBar\r\n","import { Component } from \"react\"\r\n\r\n\r\nclass TableCell extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.render = this.render.bind(this);\r\n        this.state = {\r\n            visibility: false\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        var column_name = null;\r\n        for(var name of this.props.className.split(\" \")){\r\n            if(name.substring(0,4) == \"col_\"){\r\n                column_name = name\r\n            }\r\n        }\r\n        this.setState({visibility: this.props.visibility[column_name]})\r\n    }\r\n\r\n    render(){\r\n        var sticking;\r\n        if(!this.props.sticking){\r\n            sticking = {top: false, left: false}\r\n        } else {\r\n            sticking = this.props.sticking\r\n        }\r\n        return(\r\n            <>{ this.state.visibility ? \r\n                <>{ this.props.isHeader ? \r\n                    <th className={this.props.className + (sticking.top ? \" stuck\" : \"\")}>{ this.props.children }</th>\r\n                    : <td className={this.props.className + (sticking.left ? \" stuck\" : \"\")}>{ this.props.children }</td>\r\n                }</>\r\n            : null}</>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TableCell\r\n","import React, { Component } from \"react\"\r\nclass Bar extends Component {\r\n    render(){\r\n        return(\r\n          <div\r\n          style={{\r\n            background: '#29d',\r\n            height: 2,\r\n            left: 0,\r\n            marginLeft: `${(-1 + this.props.progress) * 100}%`,\r\n            position: 'fixed',\r\n            top: 0,\r\n            transition: `margin-left ${this.props.animationDuration}ms linear`,\r\n            width: '100%',\r\n            zIndex: 1031,\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              boxShadow: '0 0 10px #29d, 0 0 5px #29d',\r\n              display: 'block',\r\n              height: '100%',\r\n              opacity: 1,\r\n              position: 'absolute',\r\n              right: 0,\r\n              transform: 'rotate(3deg) translate(0px, -4px)',\r\n              width: 100,\r\n            }}\r\n          />\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Bar","import React, { Component } from \"react\"\r\nclass Container extends Component {\r\n    render(){\r\n        return(\r\n            <div\r\n                style={{\r\n                opacity: this.props.isFinished ? 0 : 1,\r\n                pointerEvents: 'none',\r\n                transition: `opacity ${this.props.animationDuration}ms linear`,\r\n                }}\r\n            >\r\n                {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Container\r\n","import React, { Component } from \"react\"\r\n\r\nimport { NProgress } from '@tanem/react-nprogress'\r\n\r\nimport Bar from \"./ProgressBar-Bar.js\"\r\nimport Container from \"./ProgressBar-Container.js\"\r\n\r\nclass ProgressBar extends Component {\r\n    constructor(props){\r\n        super(props)\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <NProgress isAnimating={this.props.isLoading} incrementDuration={200}>\r\n                {({ animationDuration, isFinished, progress }) => (\r\n                <Container animationDuration={animationDuration} isFinished={isFinished}>\r\n                    <Bar animationDuration={animationDuration} progress={progress} />\r\n                </Container>\r\n                )}\r\n            </NProgress>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProgressBar\r\n","import { Component } from \"react\"\r\nimport {withRouter} from 'react-router-dom'\r\nimport axios from \"axios\"\r\n\r\nimport FilterBar from \"../components/FilterBar.js\"\r\nimport NavBar from \"../components/NavBar.js\"\r\nimport TableCell from \"../components/TableCell.js\"\r\nimport ProgressBar from \"../components/ProgressBar.js\"\r\n\r\nimport \"../styles/table.css\"\r\n\r\nclass TablePage extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            table_info: {\r\n                display_name: \"\",\r\n                display_cols: \"\",\r\n                update_recency: 0\r\n            },\r\n            isLoaded: false,\r\n            tableScroll: {\r\n                x: null,\r\n                y: null\r\n            },\r\n            sticking: {\r\n                top: false,\r\n                left: false\r\n            },\r\n            column_visibility: {\r\n                col_FACILITY: false,\r\n                col_TELEHEALTH: false,\r\n                col_PHONE: false,\r\n                col_ADDRESS: false,\r\n                col_ZIPCODE: false,\r\n                col_WALKINHOURS: false,\r\n                col_MATINFO: false,\r\n                col_WHICHMAT: false,\r\n                col_BUPRENORPHINE: false,\r\n                col_NALTREXONE: false,\r\n                col_METHADONE: false,\r\n                col_PAYMENTOPTIONS: false,\r\n                col_SERVICES: false,\r\n                col_ADDITIONALINFORMATION: false,\r\n                col_ADDITIONALNOTES: false,\r\n                col_CERTIFICATIONDATE: false,\r\n                col_DATASOURCES: false\r\n            },\r\n            current_request_elements: {\r\n                keyword: \"\",\r\n                included_values_string: \"None\",\r\n                excluded_values_strings: \"None\"\r\n            },\r\n            isLoading: false\r\n        }\r\n        this.render = this.render.bind(this)\r\n        this.toLegalURL = this.toLegalURL.bind(this)\r\n        this.enableColumns = this.enableColumns.bind(this)\r\n        this.handleScroll = this.handleScroll.bind(this)\r\n        this.makeRequest = this.makeRequest.bind(this)\r\n        this.applyFilters = this.applyFilters.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.history.listen((location) => {\r\n            console.log(this.state.table_info.table_name)\r\n            console.log(location)\r\n            this.makeRequest(this.request_URL_from_params())\r\n        })\r\n        this.makeRequest(this.request_URL_from_params())\r\n    }\r\n\r\n    enableColumns(){\r\n        var visible_columns = this.state.table_info.display_cols.replace(/\\\"|\\[|\\]|\\s|\\(|\\)/g,\"\").split(\";\")\r\n        var newVisibilities = {}\r\n        Object.assign(this.state.column_visibility, newVisibilities)\r\n        for(var name of visible_columns){\r\n            newVisibilities[\"col_\"+name] = true\r\n        }\r\n        this.setState({column_visibility: newVisibilities})\r\n    }\r\n\r\n    handleScroll(e){\r\n        var sticking = {top: false, left: false}\r\n        if(e.target.scrollLeft > 0){\r\n            sticking.left = true\r\n        }\r\n        if(e.target.scrollTop > 0){\r\n            sticking.top = true\r\n        }\r\n        if(this.state.sticking.left !== sticking.left || this.state.sticking.top !== sticking.top){\r\n            this.setState({sticking: sticking})\r\n        }\r\n    }\r\n\r\n    toLegalURL(url){\r\n        if(url === null){\r\n            return \"\"\r\n        }\r\n        var splitIllegal = url.split(\":\")\r\n        if(splitIllegal[0] === \"https\" || splitIllegal[0] === \"http\"){\r\n            return url\r\n        }\r\n        else {\r\n            return \"//\" + url\r\n        }\r\n    }\r\n\r\n    bu_options(site){\r\n        var options = []\r\n        if(site.bwn){\r\n            options.push(\"With naloxone (ex. Suboxone)\")\r\n        }\r\n        if(site.bwon){\r\n            options.push(\"Without naloxone\")\r\n        }\r\n        if(site.beri){\r\n            options.push(\"Injectable extended-release (ex. Sublocade)\")\r\n        }\r\n        if(site.bsdm){\r\n            options.push(\"Sub-dermal implant (Probuphine)\")\r\n        }\r\n        return options;\r\n    }\r\n\r\n    nu_options(site){\r\n        var options = [];\r\n        if(site.vtrl){\r\n            options.push(\"Vivitrol (injectable)\")\r\n        }\r\n        if(site.nxn){\r\n            options.push(\"Oral naltrexone\")\r\n        }\r\n        return options;\r\n    }\r\n\r\n    request_URL_from_params(){\r\n        var { table_name, query, keyword } = this.props.match.params\r\n        var included_values = []\r\n        var excluded_values = []\r\n        var keyword = \"\"\r\n        if(query){\r\n            for(var param of query.split(\"&\")){\r\n                if(param.split(\"=\")[0]==\"keyword\"){\r\n                    keyword = param.split(\"=\")[1]\r\n                }\r\n                else if(param.includes(\"!=\")){\r\n                    excluded_values.push({key: param.split(\"!=\")[0], value: param.split(\"!=\")[1]})\r\n                }\r\n                else {\r\n                    included_values.push({key: param.split(\"=\")[0], value: param.split(\"=\")[1]})\r\n                }\r\n            }\r\n        }\r\n        var included_values_strings = []\r\n        var excluded_values_strings = []\r\n        for(var pair of included_values){\r\n            included_values_strings.push(pair.key + \"=\" + pair.value)\r\n        }\r\n        for(var pair of excluded_values){\r\n            excluded_values_strings.push(pair.key + \"=\" + pair.value)\r\n        }\r\n        var django_query = `/headless/${table_name}/${included_values_strings.length > 0 ? included_values_strings.join(\"&\") : \"None\"}/${excluded_values_strings.length > 0 ? excluded_values_strings.join(\"&\") : \"None\"}${keyword.length > 0 ? \"/\"+keyword : \"\"}`\r\n        return django_query\r\n    }\r\n\r\n    makeRequest(django_query){\r\n        console.log(\"starting request\")\r\n        this.setState({isLoading: true})\r\n        var keyword = (django_query.split(\"/\").length > 5 ? django_query.split(\"/\")[django_query.split(\"/\").length - 1] : \"\")\r\n        var excluded_values_strings = django_query.split(\"/\")[django_query.split(\"/\").length - 2]\r\n        var included_values_strings = django_query.split(\"/\")[django_query.split(\"/\").length - 3]\r\n        this.setState({current_request_elements: {keyword: keyword, included_values_string: included_values_strings, excluded_values_strings: excluded_values_strings}})\r\n        axios.get(django_query).then(res => {\r\n            const data = res.data\r\n            this.setState({ objects: data.objects, table_info: data.table_info})\r\n            document.title = this.state.table_info.display_name\r\n            this.enableColumns()\r\n            this.setState({isLoaded: true})\r\n            console.log(\"request completed\")\r\n            this.setState({isLoading: false})\r\n        })\r\n    }\r\n\r\n    applyFilters(groups, sortingInfo, keyword){\r\n        var included_values = []\r\n        var excluded_values = []\r\n        for(var group of groups){\r\n            for(var filter of group.ref.current.props.filters){\r\n                if(filter.ref.current.getValue() != null){\r\n                    for(var condition of filter.ref.current.getValue().split(\"&\")){\r\n                        if(condition.includes(\"!=\")){\r\n                            excluded_values.push(condition.replace(\"!=\",\"=\"))\r\n                        }\r\n                        else {\r\n                            included_values.push(condition)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var sortingElement = (sortingInfo.direction == \"-\" ? sortingInfo.keys.replace(\"=\",\"=-\") : sortingInfo.keys)\r\n        var query_url = `/headless/${this.state.table_info.table_name}/${included_values.length > 0 ? included_values.join(\"&\") : \"None\"}/${excluded_values.length > 0 ? excluded_values.join(\"&\") : \"None\"}${keyword.length > 0 ? \"/\"+keyword : \"\"}${sortingInfo.keys.length > 0 ? \"/?\" + sortingElement : \"\"}`\r\n        console.log(query_url)\r\n        this.makeRequest(query_url)\r\n    }\r\n\r\n    render(){\r\n        var a = new Date(this.state.table_info.update_recency * 1000)\r\n        var update_recency = (a.getMonth() + 1) + \"/\" + (a.getDate() + 1) + \"/\" + a.getFullYear()\r\n\r\n        if (this.state.isLoaded) {\r\n            return(\r\n                <div id=\"body\">\r\n                    <ProgressBar isLoading={this.state.isLoading}/>\r\n                    <NavBar/>\r\n                    <div id=\"flexContainer\">\r\n                        <FilterBar applyFilters={this.applyFilters} table_filters_raw={this.state.table_info.filters}/>\r\n                        <div id=\"table\" onScroll={this.handleScroll}>\r\n                            <h5 id=\"resultDescription\">\r\n                                <span id=\"dataSource\" className=\"bold\">SOURCE: <a href={this.state.table_info.source_url} target=\"_blank\">{this.state.table_info.display_name}</a></span><br/>\r\n                                <span id=\"lastUpdatedNotice\">Last synced with source data: <span className=\"bold\">{update_recency}</span></span><br/>\r\n                                <span className=\"bold\">{this.state.objects.length}</span> of <span className=\"bold\">{this.state.table_info.records_count}</span> records for <span className=\"bold\">{this.state.table_info.facility_type}</span> {this.state.table_info.source_range}\r\n                            </h5>\r\n                            <div id=\"extraContainer\">\r\n                            <table>\r\n                                <tbody>\r\n                                <tr>\r\n                                    <TableCell isHeader={true} className=\"facilityName col_FACILITY\" visibility={this.state.column_visibility} sticking={this.state.sticking}>Facility</TableCell>\r\n                                    <TableCell isHeader={true} className=\"col_TELEHEALTH\" visibility={this.state.column_visibility} sticking={this.state.sticking}>Telehealth</TableCell>\r\n                                    <TableCell isHeader={true} className=\"col_PHONE\" visibility={this.state.column_visibility} sticking={this.state.sticking}>Phone</TableCell>\r\n                                    <TableCell isHeader={true} className=\"col_ADDRESS\" visibility={this.state.column_visibility} sticking={this.state.sticking}>Address</TableCell>\r\n                                    <TableCell isHeader={true} className=\"col_ZIPCODE\" visibility={this.state.column_visibility} sticking={this.state.sticking}>ZIP Code</TableCell>\r\n                                    <TableCell isHeader={true} className=\"col_WALKINHOURS\" visibility={this.state.column_visibility} sticking={this.state.sticking}>Walk-In Hours</TableCell>\r\n                                    <TableCell isHeader={true} className=\"col_MATINFO\" visibility={this.state.column_visibility} sticking={this.state.sticking}>MAT Info</TableCell>\r\n                                    <TableCell isHeader={true} className=\"col_WHICHMAT\" visibility={this.state.column_visibility} sticking={this.state.sticking}>Which MAT</TableCell>\r\n                                    <TableCell isHeader={true} className=\"col_BUPRENORPHINE\" visibility={this.state.column_visibility} sticking={this.state.sticking}>Buprenorphine</TableCell>\r\n                                    <TableCell isHeader={true} className=\"col_NALTREXONE\" visibility={this.state.column_visibility} sticking={this.state.sticking}>Naltrexone</TableCell>\r\n                                    <TableCell isHeader={true} className=\"col_METHADONE\" visibility={this.state.column_visibility} sticking={this.state.sticking}>Methadone</TableCell>\r\n                                    <TableCell isHeader={true} className=\"col_PAYMENTOPTIONS\" visibility={this.state.column_visibility} sticking={this.state.sticking}>Payment Options</TableCell>\r\n                                    <TableCell isHeader={true} className=\"col_SERVICES\" visibility={this.state.column_visibility} sticking={this.state.sticking}>Services</TableCell>\r\n                                    <TableCell isHeader={true} className=\"col_ADDITIONALINFORMATION\" visibility={this.state.column_visibility} sticking={this.state.sticking}>Additional Information</TableCell>\r\n                                    <TableCell isHeader={true} className=\"col_ADDITIONALNOTES\" visibility={this.state.column_visibility} sticking={this.state.sticking}>Additional Notes</TableCell>\r\n                                    <TableCell isHeader={true} className=\"col_CERTIFICATIONDATE\" visibility={this.state.column_visibility} sticking={this.state.sticking}>Certification Date</TableCell>\r\n                                    <TableCell isHeader={true} className=\"col_DATASOURCES\" visibility={this.state.column_visibility} sticking={this.state.sticking}>Data Source(s)</TableCell>\r\n                                </tr>\r\n                                { this.state.objects.map((site) =>\r\n                                    <tr key={site.oid}>\r\n                                        <TableCell visibility={this.state.column_visibility} className=\"facilityName wrap col_FACILITY\" sticking={this.state.sticking}>\r\n                                            <p className=\"cellText bold\">{site.name1}</p>\r\n                                            <p className=\"cellText semibold\">{site.name2}</p>\r\n                                            <p className=\"cellText semibold\">{site.name3}</p>\r\n                                            <p className=\"cellText\"><a target=\"_blank\" href={this.toLegalURL(site.website1)}>{site.website1}</a></p>\r\n                                            <p className=\"cellText\"><a target=\"_blank\" href={this.toLegalURL(site.website2)}>{site.website2}</a></p>\r\n                                        </TableCell>\r\n                                        <TableCell visibility={this.state.column_visibility} className=\"nowrap col_TELEHEALTH\">\r\n                                            <p className=\"cellText\">\r\n                                                {site.telehealth ? \"Yes\" : \"No\"}\r\n                                            </p>\r\n                                        </TableCell>\r\n                                        <TableCell visibility={this.state.column_visibility} className=\"nowrap col_PHONE\">\r\n                                            <p className=\"cellText bold\">\r\n                                                {site.phone1}\r\n                                            </p>\r\n                                            <p className=\"cellText semibold\">\r\n                                                {site.phone2}\r\n                                            </p>\r\n                                            <p className=\"cellText semibold\">\r\n                                                {site.phone3}\r\n                                            </p>\r\n                                        </TableCell>\r\n                                        <TableCell visibility={this.state.column_visibility} className=\"nowrap col_ADDRESS\">\r\n                                            <p className=\"cellText bold\">\r\n                                                {site.street1}\r\n                                            </p>\r\n                                            {site.street2 && (\r\n                                                <p className=\"cellText\">\r\n                                                    {site.street2}\r\n                                                </p>\r\n                                            )}\r\n                                            <p className=\"cellText\">\r\n                                                {site.city}, {site.state_usa}\r\n                                            </p>\r\n                                        </TableCell>\r\n                                        <TableCell visibility={this.state.column_visibility} className=\"col_ZIPCODE\">\r\n                                            <p className=\"cellText bold\">{site.zipcode}</p>\r\n                                        </TableCell>\r\n                                        <TableCell visibility={this.state.column_visibility} className=\"col_WALKINHOURS\">\r\n                                            <p className=\"cellText bold\">{site.walk_in_hours}</p>\r\n                                        </TableCell>\r\n                                        <TableCell visibility={this.state.column_visibility} className=\"col_MATINFO\">\r\n                                            <p className=\"cellText bold\">{site.mat_info}</p>\r\n                                        </TableCell>\r\n                                        <TableCell visibility={this.state.column_visibility} className=\"nowrap col_WHICHMAT\">\r\n                                            <p className=\"cellText\">\r\n                                                {site.mat_avail === \"Unclear\" && <span>\"None confirmed\"<br/></span>}\r\n                                                Buprenorphine: <b>{ site.bu ? \"Yes\" : \"No\" }</b><br/>\r\n                                                Naltrexone/Vivitrol: <b>{ site.nu ? \"Yes\" : \"No\"  }</b><br/>\r\n                                                Methadone: <b>{site.mu ? \"Yes\" : \"No\"  }</b>\r\n                                            </p>\r\n                                        </TableCell>\r\n                                        <TableCell visibility={this.state.column_visibility} className=\"nowrap col_BUPRENORPHINE\">\r\n                                            { site.bu ? \r\n                                            <span>\r\n                                                <p className=\"cellText\">\r\n                                                    Prescribed: <br/>\r\n                                                    <span className=\"bold\">\r\n                                                        {this.bu_options(site).map((option)=><span className=\"block\" key={option}>{option + \";\"}</span>)}\r\n                                                    </span>\r\n                                                </p>\r\n                                                <p>\r\n                                                    <span>\r\n                                                        {site.buu !== null &&\r\n                                                        <span>\r\n                                                            Used in treatment:\r\n                                                            <span className=\"bold\">\r\n                                                                {site.buu || site.bu ? \"Yes\" : \"No\"}\r\n                                                            </span>\r\n                                                            <br/>\r\n                                                        </span>\r\n                                                        }\r\n                                                    </span>\r\n                                                    <span showonlyfor=\"siterecs_samhsa_ftloc siterecs_dbhids_tad\">\r\n                                                        Maintenance:\r\n                                                        <span className=\"bold\">\r\n                                                            {site.bum ? \"Yes\" : \"No\"}\r\n                                                        </span>\r\n                                                    </span>\r\n                                                    <br/>\r\n                                                    <span>\r\n                                                        Maintenance for predetermined time:\r\n                                                        <span className=\"bold\">\r\n                                                            {site.bmw ? \"Yes\" : \"No\"}\r\n                                                        </span>\r\n                                                    </span>\r\n                                                    <br/>\r\n                                                    <span>\r\n                                                        Detoxification:\r\n                                                        <span className=\"bold\">\r\n                                                            {site.db_field ? \"Yes\" : \"No\"}\r\n                                                        </span>\r\n                                                    </span>\r\n                                                    <br/>\r\n                                                </p>\r\n                                            </span>\r\n                                            :\r\n                                            <p className=\"cellText\">Not available at this facility</p>\r\n                                            }\r\n                                        </TableCell>\r\n                                        <TableCell visibility={this.state.column_visibility} className=\"nowrap col_NALTREXONE\">\r\n                                            {site.nu ?\r\n                                                <p className=\"cellText\">\r\n                                                    {(site.vtrl || site.nxn) && \r\n                                                        <span>\r\n                                                            Prescribed:\r\n                                                            <span className=\"bold\">{this.nu_options(site).map((option)=><span className=\"block\" key={option}>{option + \";\"}</span>)}</span>\r\n                                                            <br/>\r\n                                                        </span>\r\n                                                    }\r\n                                                    Used for relapse prevention:\r\n                                                    <span className=\"bold\">\r\n                                                        {site.rpn ? \"Yes\" : \"No\"}\r\n                                                    </span>\r\n                                                </p>\r\n                                                :\r\n                                                <p className=\"cellText\">Not available at this facility</p>\r\n                                            }\r\n                                        </TableCell>\r\n                                        <TableCell visibility={this.state.column_visibility} className=\"nowrap col_METHADONE\"> \r\n                                            {site.mu ?\r\n                                                <p className=\"cellText\">\r\n                                                    {site.meth !== null &&\r\n                                                        <span>\r\n                                                            Prescribed:\r\n                                                            <span className=\"bold\">{site.meth}</span>\r\n                                                            <br/>\r\n                                                        </span>\r\n                                                    }\r\n                                                    Induction:\r\n                                                    <span className=\"bold\">\r\n                                                        {site.mui ? \"Yes\" : \"No\"}\r\n                                                    </span>\r\n                                                    <br/>\r\n                                                    Maintenance:\r\n                                                    <span className=\"bold\">\r\n                                                        {site.mm ? \"Yes\" : \"No\"}\r\n                                                    </span>\r\n                                                    <br/>\r\n                                                    Maintenance for predetermined time:\r\n                                                    <span className=\"bold\">\r\n                                                        {site.mmw ? \"Yes\" : \"No\"}\r\n                                                    </span>\r\n                                                    <br/>\r\n                                                    Detoxification:\r\n                                                    <span className=\"bold\">\r\n                                                        {site.dm ? \"Yes\" : \"No\"}\r\n                                                    </span>\r\n                                                </p>\r\n                                                :\r\n                                                <p className=\"cellText\">Not available at this facility</p>\r\n                                            }\r\n                                        </TableCell>\r\n                                        <TableCell visibility={this.state.column_visibility} className=\"nowrap col_PAYMENTOPTIONS\">\r\n                                            Medicaid: <b>{(site.md === true || site.md === \"Yes\") && \"Yes\"}{(site.md === false || site.md === \"No\") && \"No\"}{(site.md === \"Unclear\") && \"Unclear\"}</b><br/>\r\n                                            Medicare: <b>{(site.mc === true || site.mc === \"Yes\") && \"Yes\"}{(site.mc === false || site.mc === \"No\") && \"No\"}{(site.mc === \"Unclear\") && \"Unclear\"}</b><br/>\r\n                                            Payment assistance available: <b>{(site.pa === true || site.pa === \"Yes\") && \"Yes\"}{(site.pa === false || site.pa === \"No\") && \"No\"}{(site.pa === \"Unclear\") && \"Unclear\"}</b>\r\n                                        </TableCell>\r\n                                        <TableCell visibility={this.state.column_visibility} className=\"nowrap col_SERVICES\">\r\n                                        Child care: <b>{(site.ccc === true || site.ccc === \"Yes\") && \"Yes\"}{(site.ccc === false || site.ccc === \"No\") && \"No\"}{(site.ccc === \"Unclear\") && \"Unclear\"}</b><br/>\r\n                                        Domestic violence services: <b>{(site.dvh === true || site.dvh === \"Yes\") && \"Yes\"}{(site.dvh === false || site.dvh === \"No\") && \"No\"}{(site.dvh === \"Unclear\") && \"Unclear\"}</b><br/>\r\n                                        Housing services: <b>{(site.hs === true || site.hs === \"Yes\") && \"Yes\"}{(site.hs === false || site.hs === \"No\") && \"No\"}{(site.hs === \"Unclear\") && \"Unclear\"}</b><br/>\r\n                                        Mental health services: <b>{(site.mhs === true || site.mhs === \"Yes\") && \"Yes\"}{(site.mhs === false || site.mhs === \"No\") && \"No\"}{(site.mhs === \"Unclear\") && \"Unclear\"}</b><br/>\r\n                                        Pregnancy care: <b>{(site.pw === true || site.pw === \"Yes\") && \"Yes\"}{(site.pw === false || site.pw === \"No\") && \"No\"}{(site.pw === \"Unclear\") && \"Unclear\"}</b><br/>\r\n                                        Transportation assistance: <b>{(site.ta === true || site.ta === \"Yes\") && \"Yes\"}{(site.ta === false || site.ta === \"No\") && \"No\"}{(site.ta === \"Unclear\") && \"Unclear\"}</b>\r\n                                        </TableCell>\r\n                                        <TableCell visibility={this.state.column_visibility} className=\"col_ADDITIONALINFORMATION\">{ site.additional_info }</TableCell>\r\n                                        <TableCell visibility={this.state.column_visibility} className=\"col_ADDITIONALNOTES\">{ site.ref_notes }</TableCell>\r\n                                        <TableCell visibility={this.state.column_visibility} className=\"col_CERTIFICATIONDATE\">{ site.full_certification }</TableCell>\r\n                                        <TableCell visibility={this.state.column_visibility} className=\"nowrap col_DATASOURCES\">\r\n                                            {site.id_dbhids_tad && <span><a href=\"/table/siterecs_dbhids_tad\">DBHIDS MAT Directory</a><br/></span>}\r\n                                            {site.ba_dbhids_tad && <span>Bed Availability Updates<br/></span>}\r\n                                            {site.id_samhsa_ftloc && <span><a href=\"/table/siterecs_samhsa_ftloc\">SAMHSA Find Treatment</a><br/></span>}\r\n                                            {site.id_samhsa_otp && <span><a href=\"/table/siterecs_samhsa_otp\">SAMHSA OTPs Directory</a><br/></span>}\r\n                                            {site.id_hfp_fqhc && <span>HRSA or HFP (FQHCs)</span>}\r\n                                        </TableCell>\r\n                                    </tr>\r\n                                ) }\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            )\r\n        } else{\r\n            return null\r\n        }\r\n    }\r\n}\r\n\r\nexport default withRouter(TablePage)\r\n","import React, { Component } from \"react\";\r\nimport ScriptTag from \"react-script-tag\";\r\nimport $ from \"jquery\";\r\nimport axios from \"axios\";\r\nimport * as turf from \"@turf/turf\";\r\nimport MapboxCircle from \"mapbox-gl-circle\";\r\n\r\n// eslint-disable-next-line import/no-webpack-loader-syntax\r\nimport mapboxgl from \"!mapbox-gl\";\r\nimport MapboxGeocoder from \"@mapbox/mapbox-gl-geocoder\";\r\n\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\nimport \"@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css\";\r\n\r\nmapboxgl.accessToken =\r\n  \"pk.eyJ1IjoibWF0Y2htYXBwZXIiLCJhIjoiY2tvMWJmZW9wMGtjdzMxb2k0NWhpeW0xMSJ9.ChZtypQ-p77nXwERIAt3Iw\";\r\n\r\nclass Map extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      jqueryReady: false,\r\n      mapboxReady: false,\r\n      geocoderElement: null,\r\n    };\r\n\r\n    this.globalData = {};\r\n    this.markerList = [];\r\n    this.myCircle = null;\r\n    this.geocoder = null;\r\n    this.maxDistance = 5;\r\n\r\n    this.plotMarkers = this.plotMarkers.bind(this);\r\n    this.toggleSearchModal = this.toggleSearchModal.bind(this);\r\n    this.clearMap = this.clearMap.bind(this);\r\n    this.reloadMap = this.reloadMap.bind(this);\r\n    this.handleDistanceChange = this.handleDistanceChange.bind(this);\r\n  }\r\n\r\n  generateRequestURL() {\r\n    var mapParams = this.props.mapParams;\r\n    var table_name = mapParams.table_name;\r\n    var param_values = mapParams.included_values.replaceAll(\"amp;\", \"\");\r\n    var destination_name = mapParams.destination_name;\r\n    var excluded_values = mapParams.excluded_values.replaceAll(\"amp;\", \"\");\r\n    var keyword = mapParams.keyword;\r\n\r\n    var get_url = \"/api/geodata/\";\r\n    get_url += table_name + \"/\";\r\n\r\n    if (param_values != \"\" && param_values != \"None\") {\r\n      get_url += param_values + \"&archival_only=False/\";\r\n    } else {\r\n      get_url += \"archival_only=False/\";\r\n    }\r\n    if (excluded_values != \"None\" && excluded_values != \"\") {\r\n      get_url += excluded_values + \"/\";\r\n    }\r\n    if (keyword != \"\") {\r\n      if (excluded_values == \"None\" || excluded_values == \"\") {\r\n        get_url += \"None/\";\r\n      }\r\n      get_url += keyword;\r\n    }\r\n    get_url = get_url.replace(\"//\", \"/\");\r\n    return get_url;\r\n  }\r\n\r\n  requestGeoData() {\r\n    var url = window.location.origin + this.generateRequestURL();\r\n\r\n    axios.get(url).then((res) => {\r\n      let data = res.data;\r\n      this.globalData = data;\r\n      this.geocoder.on(\"result\", ({ result }) => {\r\n        const searchResult = result.geometry;\r\n        // Loop through sites and calculate distance to geocoder address\r\n        for (let i = 0; i < data.loc.length; i++) {\r\n          const turfDistance = turf.distance(\r\n            searchResult,\r\n            [data.loc[i].longitude, data.loc[i].latitude],\r\n            { units: \"miles\" }\r\n          );\r\n          data.loc[i] = { ...data.loc[i], ...{ distance: turfDistance } };\r\n        }\r\n        // filter array by distance in field\r\n        const dist = parseInt(this.maxDistance); //get distance from text field\r\n        const data_ = data.loc.filter((d) => d.distance < dist);\r\n        // get count of sites within radius\r\n        const sitesInFocus = data_.length;\r\n        // find site with min distance\r\n        const closest = data_.sort((a, b) => {\r\n          if (a.distance > b.distance) {\r\n            return 1;\r\n          }\r\n          if (a.distance < b.distance) {\r\n            return -1;\r\n          }\r\n          return 0; // a must be equal to b\r\n        })[0];\r\n        // fit the map on the entered location and the closest site\r\n        // Create a bounding box using the dist variable and right triangle math\r\n        // keep is simple by using 69 miles = 1 degree\r\n        var halfBound = (2 * dist) / (69 * Math.sqrt(2));\r\n        const c = searchResult.coordinates;\r\n        const bbox = [\r\n          [c[0] - halfBound, c[1] - halfBound],\r\n          [c[0] + halfBound, c[1] + halfBound],\r\n        ];\r\n        this.map.fitBounds(bbox); //, {padding: 600});\r\n        // Draw circle of radius\r\n        this.myCircle = new MapboxCircle(\r\n          { lat: c[1], lng: c[0] },\r\n          dist * 1610,\r\n          {\r\n            fillOpacity: 0,\r\n          }\r\n        ).addTo(this.map);\r\n        // Clear map and re-draw with different colors\r\n        this.clearMap(this.markerList);\r\n        this.plotMarkers(data, this.props.destination_name, sitesInFocus);\r\n        // Change record totals\r\n        this.setState({ siteCount: sitesInFocus });\r\n      });\r\n\r\n      this.plotMarkers(data, this.props.destination_name);\r\n      this.setState({ siteCount: data[\"loc\"].length });\r\n    });\r\n  }\r\n\r\n  // function to toggle the search modal on and off\r\n  toggleSearchModal() {\r\n    this.setState({ showSearchModal: !this.state.showSearchModal });\r\n  }\r\n\r\n  plotMarkers(data, dest_name, countFocus = data.length + 1) {\r\n    // sort data\r\n    data = data.loc.sort((a, b) => {\r\n      if (a.distance > b.distance) {\r\n        return 1;\r\n      }\r\n      if (a.distance < b.distance) {\r\n        return -1;\r\n      }\r\n      return 0; // a must be equal to b\r\n    });\r\n\r\n    var link_object;\r\n    for (var i = 0; i < data.length; i++) {\r\n      link_object =\r\n        window.location.origin +\r\n        \"/table/\" +\r\n        this.props.tableInfo.table_name +\r\n        \"/oid=\" +\r\n        data[i][\"oid\"] +\r\n        \"/\";\r\n\r\n      // set color based on countFocus\r\n      if (i < countFocus) {\r\n        var _color = \"#2A76D2\";\r\n      } else {\r\n        var _color = \"#3FB1CE\";\r\n      }\r\n      let phone_number =\r\n        data[i].phone1 != null ? data[i].phone1 : data[i].phone;\r\n      if (phone_number.includes(\" \")) {\r\n        phone_number = phone_number.slice(0, 12);\r\n      }\r\n      var marker = new mapboxgl.Marker({ color: _color })\r\n        .setLngLat([data[i][\"longitude\"], data[i][\"latitude\"]])\r\n        .setPopup(\r\n          new mapboxgl.Popup().setHTML(\r\n            \"<a href=\" +\r\n              link_object +\r\n              \">\" +\r\n              JSON.stringify(data[i][this.props.mapParams.destination_name]) +\r\n              \"</a><br>Phone: <a href=tel:+1-\" +\r\n              phone_number +\r\n              \">\" +\r\n              phone_number +\r\n              \"</a><br><a href=\" +\r\n              data[i].website1 +\r\n              \" target='_blank'>Website</a>\"\r\n          )\r\n        )\r\n        .addTo(this.map);\r\n      this.markerList.push(marker);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.map = new mapboxgl.Map({\r\n      container: this.mapContainer, // container ID\r\n      style: \"mapbox://styles/matchmapper/ckog0go3v3k1417nn7gex8ebr\",\r\n      center: [-75.158924, 39.9629223],\r\n      zoom: 11,\r\n    });\r\n    this.map.addControl(new mapboxgl.NavigationControl());\r\n    this.map.on(\"render\", function (e) {\r\n      e.target.resize();\r\n    });\r\n    this.geocoder = new MapboxGeocoder({\r\n      accessToken: mapboxgl.accessToken,\r\n      mapboxgl: mapboxgl, // Set the mapbox-gl instance\r\n      marker: false, // Use the geocoder's default marker style,\r\n      placeholder: \"Search for Site by Address\",\r\n    });\r\n    document\r\n      .getElementById(\"geocodeWidget\")\r\n      .appendChild(this.geocoder.onAdd(this.map));\r\n    this.requestGeoData();\r\n  }\r\n\r\n  // function to clear map\r\n  clearMap() {\r\n    for (var i = 0; i < this.markerList.length; i++) {\r\n      this.markerList[i].remove();\r\n    }\r\n    this.markerList = [];\r\n  }\r\n\r\n  reloadMap() {\r\n    this.clearMap(this.markerList);\r\n    this.plotMarkers(this.globalData, this.props.destination_name);\r\n    this.myCircle.remove();\r\n    this.geocoder.clear();\r\n  }\r\n\r\n  handleDistanceChange(e) {\r\n    console.log(e);\r\n    this.maxDistance = e.target.value;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"mapContainer\">\r\n        <div\r\n          id=\"siteSearch\"\r\n          style={{\r\n            display: this.props.showSearchModal ? \"block\" : \"none\",\r\n            overflow: \"visible\",\r\n          }}\r\n        >\r\n          <button id=\"closeSearchModal\" onClick={this.toggleSearchModal}>\r\n            &#x2715;\r\n          </button>\r\n          <h2>Search By Address:</h2>\r\n          <label for=\"distance\">Radius (mi.): </label>\r\n          <input\r\n            name=\"distance\"\r\n            id=\"distance\"\r\n            defaultValue=\"5\"\r\n            type=\"number\"\r\n            style={{ width: 40 }}\r\n            onChange={this.handleDistanceChange}\r\n          ></input>\r\n          <br />\r\n          <br />\r\n          <div id=\"geocodeWidget\" style={{ width: \"calc(100% - 14px)\" }}></div>\r\n          <br />\r\n          <button id=\"clearSearch\" onClick={this.reloadMap}>\r\n            Start Over &#10005;\r\n          </button>\r\n        </div>\r\n        <div id=\"map\" ref={(el) => (this.mapContainer = el)}>\r\n          {this.props.children}\r\n          <div id=\"results-info\">\r\n            <span className=\"bold\" id=\"sitecount\">\r\n              {this.state.siteCount}\r\n            </span>{\" \"}\r\n            of <span class=\"bold\">{this.props.tableInfo.records_count}</span>{\" \"}\r\n            records for{\" \"}\r\n            <span class=\"bold\">{this.props.tableInfo.facility_type}</span>{\" \"}\r\n            {this.props.tableInfo.source_range}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Map;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport ScriptTag from \"react-script-tag\";\r\n// eslint-disable-next-line import/no-webpack-loader-syntax\r\nimport mapboxgl from \"!mapbox-gl\";\r\nimport MapboxGeocoder from \"@mapbox/mapbox-gl-geocoder\";\r\n\r\nimport FilterBar from \"../components/FilterBar.js\";\r\nimport NavBar from \"../components/NavBar.js\";\r\nimport Map from \"../components/Map.js\";\r\nimport ProgressBar from \"../components/ProgressBar.js\";\r\n\r\nimport \"../styles/map.css\";\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\n\r\nmapboxgl.accessToken =\r\n  \"pk.eyJ1IjoibWF0Y2htYXBwZXIiLCJhIjoiY2tvMWJmZW9wMGtjdzMxb2k0NWhpeW0xMSJ9.ChZtypQ-p77nXwERIAt3Iw\";\r\n\r\nclass MapPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      table_info: {\r\n        display_name: \"\",\r\n        display_cols: \"\",\r\n      },\r\n      isLoaded: false,\r\n      tableScroll: {\r\n        x: null,\r\n        y: null,\r\n      },\r\n      sticking: {\r\n        top: false,\r\n        left: false,\r\n      },\r\n      column_visibility: {\r\n        col_FACILITY: false,\r\n        col_TELEHEALTH: false,\r\n        col_PHONE: false,\r\n        col_ADDRESS: false,\r\n        col_ZIPCODE: false,\r\n        col_WALKINHOURS: false,\r\n        col_MATINFO: false,\r\n        col_WHICHMAT: false,\r\n        col_BUPRENORPHINE: false,\r\n        col_NALTREXONE: false,\r\n        col_METHADONE: false,\r\n        col_PAYMENTOPTIONS: false,\r\n        col_SERVICES: false,\r\n        col_ADDITIONALINFORMATION: false,\r\n        col_ADDITIONALNOTES: false,\r\n        col_CERTIFICATIONDATE: false,\r\n        col_DATASOURCES: false,\r\n      },\r\n      current_request_elements: {\r\n        keyword: \"\",\r\n        included_values_string: \"None\",\r\n        excluded_values_strings: \"None\",\r\n      },\r\n      mapParams: {\r\n        table_name: \"\",\r\n        included_values: \"None\",\r\n        excluded_values: \"None\",\r\n        keyword: \"\",\r\n        destination_name: \"name1\",\r\n      },\r\n      mapKey: 0,\r\n      //   maxDistance: \"5\",\r\n      showSearchByAddress: false,\r\n      isLoading: false,\r\n    };\r\n    this.naming_dict = {\r\n      sitecodes_samhsa_ftloc: \"service_name\",\r\n      siterecs_samhsa_ftloc: \"name1\",\r\n      siterecs_samhsa_otp: \"program_name\",\r\n      siterecs_dbhids_tad: \"name1\",\r\n      ba_dbhids_tad: \"name_ba\",\r\n      siterecs_hfp_fqhc: \"name_short\",\r\n      siterecs_other_srcs: \"name1\",\r\n      sites_all: \"name1\",\r\n      Siterecs_dbhids_tads: \"name1\",\r\n    };\r\n    this.map = React.createRef();\r\n    this.render = this.render.bind(this);\r\n    this.getUrlParams = this.getUrlParams.bind(this);\r\n    this.makeRequest = this.makeRequest.bind(this);\r\n    this.request_URL_from_params = this.request_URL_from_params.bind(this);\r\n    this.applyFilters = this.applyFilters.bind(this);\r\n    // this.distanceChanged = this.distanceChanged.bind(this);\r\n    this.toggleSearchByAddress = this.toggleSearchByAddress.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getUrlParams();\r\n    this.makeRequest(this.request_URL_from_params());\r\n  }\r\n\r\n  request_URL_from_params() {\r\n    var { table_name, query, keyword } = this.props.match.params;\r\n    var included_values = [];\r\n    var excluded_values = [];\r\n    var keyword = \"\";\r\n    if (query) {\r\n      for (var param of query.split(\"&\")) {\r\n        if (param.split(\"=\")[0] == \"keyword\") {\r\n          keyword = param.split(\"=\")[1];\r\n        } else if (param.includes(\"!=\")) {\r\n          excluded_values.push({\r\n            key: param.split(\"!=\")[0],\r\n            value: param.split(\"!=\")[1],\r\n          });\r\n        } else {\r\n          included_values.push({\r\n            key: param.split(\"=\")[0],\r\n            value: param.split(\"=\")[1],\r\n          });\r\n        }\r\n      }\r\n    }\r\n    var included_values_strings = [];\r\n    var excluded_values_strings = [];\r\n    for (var pair of included_values) {\r\n      included_values_strings.push(pair.key + \"=\" + pair.value);\r\n    }\r\n    for (var pair of excluded_values) {\r\n      excluded_values_strings.push(pair.key + \"=\" + pair.value);\r\n    }\r\n    var django_query = `/headless/${table_name}/${\r\n      included_values_strings.length > 0\r\n        ? included_values_strings.join(\"&\")\r\n        : \"None\"\r\n    }/${\r\n      excluded_values_strings.length > 0\r\n        ? excluded_values_strings.join(\"&\")\r\n        : \"None\"\r\n    }${keyword.length > 0 ? \"/\" + keyword : \"\"}`;\r\n    return django_query;\r\n  }\r\n\r\n  makeRequest(django_query, refresh) {\r\n    console.log(\"starting request\");\r\n    this.setState({ isLoading: true });\r\n    var keyword =\r\n      django_query.split(\"/\").length > 5\r\n        ? django_query.split(\"/\")[django_query.split(\"/\").length - 1]\r\n        : \"\";\r\n    var excluded_values_strings =\r\n      django_query.split(\"/\")[django_query.split(\"/\").length - 2];\r\n    var included_values_strings =\r\n      django_query.split(\"/\")[django_query.split(\"/\").length - 3];\r\n    this.setState({\r\n      current_request_elements: {\r\n        keyword: keyword,\r\n        included_values_string: included_values_strings,\r\n        excluded_values_strings: excluded_values_strings,\r\n      },\r\n    });\r\n    axios.get(django_query).then((res) => {\r\n      const data = res.data;\r\n      this.setState(\r\n        { objects: data.objects, table_info: data.table_info },\r\n        () => console.log(this.state.table_info)\r\n      );\r\n      document.title = this.state.table_info.display_name;\r\n      this.setState({ isLoaded: true });\r\n      if (refresh) {\r\n        this.setState({ mapKey: this.state.mapKey + 1 });\r\n      }\r\n      console.log(\"request completed\");\r\n      this.setState({ isLoading: false });\r\n    });\r\n  }\r\n\r\n  getUrlParams() {\r\n    var { table_name, query, keyword } = this.props.match.params;\r\n    var included_values = [];\r\n    var excluded_values = [];\r\n    var keyword = \"\";\r\n    if (query) {\r\n      for (var param of query.split(\"&\")) {\r\n        if (param.split(\"=\")[0] == \"keyword\") {\r\n          keyword = param.split(\"=\")[1];\r\n        } else if (param.includes(\"!=\")) {\r\n          excluded_values.push({\r\n            key: param.split(\"!=\")[0],\r\n            value: param.split(\"!=\")[1],\r\n          });\r\n        } else {\r\n          included_values.push({\r\n            key: param.split(\"=\")[0],\r\n            value: param.split(\"=\")[1],\r\n          });\r\n        }\r\n      }\r\n    }\r\n    var included_values_strings = [];\r\n    var excluded_values_strings = [];\r\n    for (var pair of included_values) {\r\n      included_values_strings.push(pair.key + \"=\" + pair.value);\r\n    }\r\n    for (var pair of excluded_values) {\r\n      excluded_values_strings.push(pair.key + \"=\" + pair.value);\r\n    }\r\n    this.setState({\r\n      mapParams: {\r\n        table_name: table_name,\r\n        included_values:\r\n          included_values_strings.length > 0\r\n            ? included_values_strings.join(\"&\")\r\n            : \"None\",\r\n        excluded_values:\r\n          excluded_values_strings.length > 0\r\n            ? excluded_values_strings.join(\"&\")\r\n            : \"None\",\r\n        keyword: keyword.length > 0 ? keyword : \"\",\r\n        destination_name: this.naming_dict[table_name],\r\n      },\r\n    });\r\n  }\r\n\r\n  applyFilters(groups, sortingInfo, keyword) {\r\n    var included_values = [];\r\n    var excluded_values = [];\r\n    for (var group of groups) {\r\n      for (var filter of group.ref.current.props.filters) {\r\n        if (filter.ref.current.getValue() != null) {\r\n          for (var condition of filter.ref.current.getValue().split(\"&\")) {\r\n            if (condition.includes(\"!=\")) {\r\n              excluded_values.push(condition.replace(\"!=\", \"=\"));\r\n            } else {\r\n              included_values.push(condition);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    var sortingElement =\r\n      sortingInfo.direction == \"-\"\r\n        ? sortingInfo.keys.replace(\"=\", \"=-\")\r\n        : sortingInfo.keys;\r\n    var query_url = `/headless/${this.state.table_info.table_name}/${\r\n      included_values.length > 0 ? included_values.join(\"&\") : \"None\"\r\n    }/${excluded_values.length > 0 ? excluded_values.join(\"&\") : \"None\"}${\r\n      keyword.length > 0 ? \"/\" + keyword : \"\"\r\n    }${sortingInfo.keys.length > 0 ? \"/?\" + sortingElement : \"\"}`.replace(\r\n      \"//\",\r\n      \"/\"\r\n    );\r\n    // console.log(query_url)\r\n    this.makeRequest(query_url, true);\r\n    this.setState(\r\n      {\r\n        mapParams: {\r\n          table_name: this.state.table_info.table_name,\r\n          included_values:\r\n            included_values.length > 0 ? included_values.join(\"&\") : \"None\",\r\n          excluded_values:\r\n            excluded_values.length > 0 ? excluded_values.join(\"&\") : \"None\",\r\n          keyword: keyword.length > 0 ? \"/\" + keyword : \"\",\r\n          destination_name: this.naming_dict[this.state.table_info.table_name],\r\n        },\r\n      },\r\n      function () {\r\n        console.log(this.state.mapParams);\r\n        this.map.current.clearMap();\r\n        this.map.current.requestGeoData();\r\n      }\r\n    );\r\n  }\r\n\r\n  //   distanceChanged(e) {\r\n  //     this.setState({ maxDistance: e.target.value });\r\n  //   }\r\n\r\n  toggleSearchByAddress() {\r\n    this.setState({ showSearchByAddress: !this.state.showSearchByAddress });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.isLoaded) {\r\n      console.log(this.map);\r\n      return (\r\n        <div id=\"body\">\r\n          <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" />\r\n          <link\r\n            href=\"https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap\"\r\n            rel=\"stylesheet\"\r\n          />\r\n          <ProgressBar isLoading={this.state.isLoading} />\r\n          <NavBar />\r\n          <Map\r\n            mapParams={this.state.mapParams}\r\n            tableInfo={this.state.table_info}\r\n            // maxDistance={this.state.maxDistance}\r\n            ref={this.map}\r\n            showSearchModal={this.state.showSearchByAddress}\r\n          >\r\n            <FilterBar\r\n              applyFilters={this.applyFilters}\r\n              table_filters_raw={this.state.table_info.filters}\r\n              showSort={false}\r\n            >\r\n              <button id=\"clearSearch\" onClick={this.toggleSearchByAddress}>\r\n                Show distance search\r\n              </button>\r\n            </FilterBar>\r\n          </Map>\r\n        </div>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default withRouter(MapPage);\r\n","export default __webpack_public_path__ + \"static/media/MM_infinity-logo_philly-blues.5f039c18.png\";","export default __webpack_public_path__ + \"static/media/PhillySkyline_ly_seeImageCreditsTXT.a9cb9ad7.png\";","import React, { Component } from \"react\"\r\nimport {withRouter} from 'react-router-dom'\r\n\r\nimport NavBar from \"../components/NavBar.js\"\r\n\r\nimport \"../styles/about.css\"\r\nimport logo from \"../images/MM_infinity-logo_philly-blues.png\"\r\nimport skyline from \"../images/PhillySkyline_ly_seeImageCreditsTXT.png\"\r\n\r\nclass AboutPage extends Component {\r\n\r\n    render(){\r\n        document.title = \"MATchMapper\"\r\n        return(\r\n            <div id=\"body\">\r\n                <NavBar/>\r\n                <div id=\"aboutbody\">\r\n                    <h1 id=\"matchmapper\">MATchMapper</h1>\r\n                    <p>The Philadelphia area is among the regions hit hardest by the opioid epidemic. Fortunately, Philly is also home\r\n                        to hundreds of dedicated professionals skilled at treating opioid use disorder. However, information on these\r\n                        providers is split across several search tools and is sometimes outdated or innaccurate.</p>\r\n                    <p>MATchMapper aims to address these issues by providing a search tool that unifies existing data sources and corrects \r\n                        many errors. We hope that this tool will be useful to many in the community including individuals seeking treatment, \r\n                        healthcare providers making referrals, and public health officials seeking to understand treatment availability. \r\n                        Please do not hesitate to <a href=\"mailto:matchmapper.philadelphia@gmail.com\">contact us</a> with questions and\r\n                        suggestions.</p>\r\n                        <p align='center'><img src={skyline} width=\"85%\"/></p>\r\n                    <h2 id=\"data-sources\"><br/>Data Sources</h2>\r\n                    <p>MATchMapper builds on the excellent work of existing projects to produce an extensive, up-to-date database of\r\n                        treatment resources. The original data sources can be found below:</p>\r\n                    <h3 id=\"philadelphia-department-of-behavioral-health-and-intellectual-disability-services\">Philadelphia Department\r\n                        of Behavioral Health and Intellectual Disability Services</h3>\r\n                    <p><a href=\"https://dbhids.org/mat\" rel=\"noopener\" target=\"_blank\">Medication Assisted Treatment Directory</a> including \r\n                        Bed Availability Updates (2&ndash;3x weekly)</p>\r\n                    <p>Scroll down to the &ldquo;<strong>Treatment Availability Database</strong>&rdquo; heading to access their most current PDF</p>\r\n                    <h3 id=\"substance-abuse-and-mental-health-services-administration\">Substance Abuse and Mental Health Services\r\n                        Administration</h3>\r\n                    <p><a href=\"https://findtreatment.samhsa.gov\" rel=\"noopener\" target=\"_blank\">Behavioral Treatment Services Locator</a></p>\r\n                    <p><a href=\"https://dpt2.samhsa.gov/treatment/directory.aspx\" rel=\"noopener\" target=\"_blank\">Opioid Treatment Program Directory</a></p>\r\n                    <p><a href=\"https://www.samhsa.gov/medication-assisted-treatment/find-treatment/treatment-practitioner-locator\" rel=\"noopener\" target=\"_blank\">Buprenorphine Practitioner Locator</a></p>\r\n                    <h3 id=\"health-federation-of-philadelphia\">Health Federation of Philadelphia</h3>\r\n                    <p><a href=\"https://healthfederation.org/Members\" rel=\"noopener\" target=\"_blank\">Community Health Center Directory</a></p>\r\n                    <h3 id=\"health-resources-and-services-administration\">Health Resources and Services Administration</h3>\r\n                    <p><a href=\"https://findahealthcenter.hrsa.gov\" rel=\"noopener\" target=\"_blank\">Federally Qualified Health Center Finder</a></p>\r\n                    <h2 id=\"user-guide\"><br/>User Guide</h2>\r\n                    <p><a href=\"https://docs.google.com/presentation/d/e/2PACX-1vRcWxA8n3wrlI-rcedAdyZoA5f15Ce-aKfw8WJWGG8U7zW076zjU85BQcmeQynySCH7b3Y7Qu2UUkTD/pub?start=false&loop=false&delayms=3000\" rel=\"noopener\" target=\"_blank\">\r\n                        Open in separate tab</a></p>\r\n                    <iframe src=\"https://docs.google.com/presentation/d/e/2PACX-1vRcWxA8n3wrlI-rcedAdyZoA5f15Ce-aKfw8WJWGG8U7zW076zjU85BQcmeQynySCH7b3Y7Qu2UUkTD/embed?start=false&loop=true&delayms=5000\" frameborder=\"0\" width=\"96%\" height=\"480\" allowfullscreen=\"true\" mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\"></iframe>\r\n                    <h2 id=\"the-team\"><br/>The Team</h2>\r\n                    <p><a href=\"https://codeforphilly.org/projects/matchmapper\" rel=\"noopener\" target=\"_blank\">MATchMapper</a> is a project of <a\r\n                            href=\"https://codeforphilly.org\" rel=\"noopener\" target=\"_blank\">Code for Philly</a>, the local chapter of <a\r\n                            href=\"https://www.codeforamerica.org\" rel=\"noopener\" target=\"_blank\">Code for America</a>, a nation-wide not-for-profit network of\r\n                        volunteers who apply their technical skills to a variety of civic challenges.</p>\r\n                    <p>The project began in February 2020 as part of Code for Philly's <a href=\"https://github.com/CodeForPhilly/datahack2020#readme\" \r\n                        rel=\"noopener\" target=\"_blank\">Opioid Data Hackathon</a>. Since then, our team has continued to improve the\r\n                        MATchMapper tool, benefitting greatly from feedback from a variety of public health experts in Philadelphia.</p>\r\n                    <p>A large roster of volunteers has made MATchMapper possible. Our team includes a mix of students and experienced\r\n                        professionals with skills in areas including web development, data science, product management and research.</p>\r\n                    <h3 id=\"current-contributors\">Current Contributors (2021)</h3>\r\n                    <ul>\r\n                        <li>Brandon Cohen</li>\r\n                        <li>Caroline Smith</li>\r\n                        <li>Chip Clofine</li>\r\n                        <li>David Bowden</li>\r\n                        <li>Isaac Wasserman</li>\r\n                        <li>Josephine Dru</li>\r\n                        <li>Lyvia Yan</li>\r\n                        <li>Maisie Smith</li>\r\n                        <li>Sam Tan</li>\r\n                        <li>Tung Do</li>\r\n                    </ul>\r\n                    <h3 id=\"past-contributors\">Past Contributors (2020)</h3>\r\n                    <ul>\r\n                        <li>Becca Nock</li>\r\n                        <li>Ben Campos</li>\r\n                        <li>Dave Slinger</li>\r\n                        <li>Holly Giang</li>\r\n                        <li>Joey Logan</li>\r\n                        <li>Luke Shi</li>\r\n                    </ul>\r\n                    <p align=\"center\">\r\n                        <a href=\"https://www.matchmapper.org/table/sites_all\"><img src={logo} width=\"15%\"/></a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(AboutPage)\r\n","import React from \"react\"\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route\r\n} from \"react-router-dom\"\r\n\r\nimport TablePage from \"./pages/table.js\"\r\nimport MapPage from \"./pages/map.js\"\r\nimport AboutPage from \"./pages/about.js\"\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      <div id=\"resources\">\r\n        <link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"/static/apple-touch-icon.png\"/>\r\n        <link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"/static/favicon-32x32.png\"/>\r\n        <link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"/static/favicon-16x16.png\"/>\r\n        <link rel=\"manifest\" href=\"/static/site.webmanifest\"/>\r\n        <link rel=\"mask-icon\" href=\"/static/safari-pinned-tab.svg\" color=\"#0f4d90\"/>\r\n        <link rel=\"shortcut icon\" href=\"/static/favicon.ico\"/>\r\n        <meta name=\"msapplication-TileColor\" content=\"#2b5797\"/>\r\n        <meta name=\"msapplication-config\" content=\"/static/browserconfig.xml\"/>\r\n        <meta name=\"theme-color\" content=\"#ffffff\"/>\r\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\"/>\r\n        <link href=\"https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\"/>\r\n      </div>\r\n      <Router>\r\n      <Switch>\r\n        <Route path=\"/table/:table_name/:query?\">\r\n          <TablePage/>\r\n        </Route>\r\n        <Route path=\"/map/:table_name/:query?\">\r\n          <MapPage/>\r\n        </Route>\r\n        <Route exact path=\"/\">\r\n          <AboutPage/>\r\n        </Route>\r\n      </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}